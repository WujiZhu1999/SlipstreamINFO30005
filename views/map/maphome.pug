extends ../navbar
block styles
	link(rel='stylesheet', href='/css/map_total.css')
	link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")
	
block content
	div(id="postwall")
		div(class="mySlides")
			img(class = "timage" src = "../home_0.jpg" )
			div(class="text") Route
				p same precision level as google map
		div(class="mySlides")
			img(class = "timage" src = "../home_1.jpg" )
			div(class="text") Energy
				p protect environment and burn calories
		div(class="mySlides")
			img(class = "timage" src = "../home_2.jpg" )
			div(class="text") Trace
				p simple path planning and recording
		div(class="mySlides")
			img(class = "timage" src = "../home_3.jpg" )
			div(class="text") Community
				p friends community and real time articles
		a(href="#start")
			i(id = "down" class="fa fa-angle-down" style="font-size:128px")
		div(id = "dududu" style="text-align:center")
			span(id = "dudu1" class="dot" onclick = "changepic(this)")
			span(id = "dudu2" class="dot" onclick = "changepic(this)")
			span(id = "dudu3" class="dot" onclick = "changepic(this)")
			span(id = "dudu4" class="dot" onclick = "changepic(this)")

		
	div(id="start")
		img(id="start_img" src = "../start.jpg")
		div(id = "go")
			form(action="/Map/route" method="POST")
				input(type="text" id="origin" name="origin" placeholder="Origin")
				input(type="text" id="destination" name="destination" placeholder="Destination")
				br
				br
				input(type="submit" value="GO" id = "_go")
	div(id="saved")
		img(id = "plan_img" src="../plan.jpg")
		div(id="containroute")
			ul(class="roads")
				each route in routes
					li(class="roadli" onclick="insertRoad(this)")
						img(class="roading" src="/logo.jpg")
						if route["destination"] == "---"
							h3(class="roadh3") Waiting for your exploration
						else
							h3(class="roadh3") #{route["destination"]}
						p(class="roadp") Origin: #{route["origin"]} 
						p(class="roadp") Destination: #{route["destination"]}
						p(class="roadp") Total Trial: #{route["totalTrial"]}
	
	script.
		var slideIndex = 0;
		showSlides();
		function showSlides(){
			var i;
			var slides = document.getElementsByClassName("mySlides");
			var dots = document.getElementsByClassName("dot");
			for(i = 0; i < slides.length; i++){
				slides[i].style.display = "none";
			}
			slideIndex++;
			if (slideIndex > slides.length) {slideIndex = 1}
			for (i = 0; i < dots.length; i++) {
				dots[i].className = dots[i].className.replace(" active", "");
			}
			slides[slideIndex-1].style.display = "block";  
			dots[slideIndex-1].className += " active";
			setTimeout(showSlides, 6000);
		}

		function changepic(ele){
			const ii = parseInt(ele.id.slice(4));
			var i;
			var slides = document.getElementsByClassName("mySlides");
			var dots = document.getElementsByClassName("dot");
			for(i = 0; i < slides.length; i++){
				slides[i].style.display = "none";
			}
			slideIndex = ii;
			if (slideIndex > slides.length) {slideIndex = 1}
			for (i = 0; i < dots.length; i++) {
				dots[i].className = dots[i].className.replace(" active", "");
			}
			slides[slideIndex-1].style.display = "block";  
			dots[slideIndex-1].className += " active";
		}
		function insertRoad(ele){
			const ori = ele.childNodes[2].innerHTML.slice(8).trim();
			const des = ele.childNodes[3].innerHTML.slice(13).trim();
			if(ori != "---"){
				document.getElementById("origin").value = ori;
				document.getElementById("destination").value = des;
			}
		}